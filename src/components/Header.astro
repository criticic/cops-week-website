<header class="relative border-b-2 border-amber-100/30">
  <nav class="container mx-auto px-4 py-6 md:p-6">
    <div class="flex items-center justify-between">
      <a href="/" class="glitch font-mono text-2xl text-amber-100"
        >COPS Week 2025</a
      >
      <ul class="hidden gap-8 md:flex">
        <li>
          <a href="/" class="text-amber-100 hover:text-amber-100/70">[HOME]</a>
        </li>
        <li>
          <a href="#events" class="text-amber-100 hover:text-amber-100/70"
            >[EVENTS]</a
          >
        </li>
        <li>
          <a href="#schedule" class="text-amber-100 hover:text-amber-100/70"
            >[SCHEDULE]</a
          >
        </li>
        <li>
          <a href="#sponsors" class="text-amber-100 hover:text-amber-100/70"
            >[SPONSORS]</a
          >
        </li>
        <li>
          <a
            href="#register"
            class="border-2 border-amber-100 px-4 py-2 transition-colors hover:bg-amber-100/10"
          >
            [REGISTER]
          </a>
        </li>
      </ul>
      <button
        id="menu-toggle"
        class="text-xl text-amber-100 md:hidden"
        aria-expanded="false"
        aria-controls="mobile-menu"
      >
        [MENU]
      </button>
    </div>

    <!-- Mobile Menu -->
    <div
      id="mobile-menu"
      class="fixed inset-0 -translate-x-full bg-black/95 transition-transform duration-300 md:hidden"
    >
      <div class="flex h-full flex-col p-6">
        <div class="flex justify-end">
          <button
            id="menu-close"
            class="text-xl text-amber-100"
            aria-label="Close menu"
          >
            [CLOSE]
          </button>
        </div>
        <ul class="flex h-full flex-col items-center justify-center gap-8">
          <li>
            <a href="/" class="text-2xl text-amber-100 hover:text-amber-100/70"
              >[HOME]</a
            >
          </li>
          <li>
            <a
              href="#events"
              class="text-2xl text-amber-100 hover:text-amber-100/70"
              >[EVENTS]</a
            >
          </li>
          <li>
            <a
              href="#schedule"
              class="text-2xl text-amber-100 hover:text-amber-100/70"
              >[SCHEDULE]</a
            >
          </li>
          <li>
            <a
              href="#sponsors"
              class="text-2xl text-amber-100 hover:text-amber-100/70"
              >[SPONSORS]</a
            >
          </li>
          <li>
            <a
              href="#register"
              class="border-2 border-amber-100 px-6 py-3 text-2xl transition-colors hover:bg-amber-100/10"
            >
              [REGISTER]
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menuClose = document.getElementById('menu-close');
  const mobileMenu = document.getElementById('mobile-menu');
  const mobileMenuLinks = mobileMenu?.querySelectorAll('a');

  if (menuToggle && menuClose && mobileMenu) {
    function toggleMenu() {
      // @ts-ignore
      const isOpen = mobileMenu.classList.contains('translate-x-0');
      // @ts-ignore
      mobileMenu.classList.toggle('translate-x-0');
      // @ts-ignore
      mobileMenu.classList.toggle('-translate-x-full');
      // @ts-ignore
      menuToggle.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
    }

    menuToggle.addEventListener('click', toggleMenu);
    menuClose.addEventListener('click', toggleMenu);

    mobileMenuLinks?.forEach(link => {
      link.addEventListener('click', toggleMenu);
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      const target = e.target as Node;
      if (
        mobileMenu.classList.contains('translate-x-0') &&
        !mobileMenu.contains(target) &&
        !menuToggle.contains(target)
      ) {
        toggleMenu();
      }
    });

    // Close menu on escape key
    document.addEventListener('keydown', (e) => {
      if (
        e.key === 'Escape' &&
        mobileMenu.classList.contains('translate-x-0')
      ) {
        toggleMenu();
      }
    });
  }
</script>
